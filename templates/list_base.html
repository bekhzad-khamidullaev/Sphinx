{% extends 'base.html' %}
{% load i18n %}

{% block content %}
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div id="list-content" class="mt-8">
            {% block list_content %}
                 <!-- Loading Indicator -->
                <div id="loading-indicator" class="flex justify-center items-center py-10">
                    <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500"></div>
                </div>
            {% endblock %}
        </div>
    </div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('htmx:beforeRequest', function(evt) {
    // Show loading indicator
    const loadingIndicator = document.getElementById('loading-indicator');
    if (loadingIndicator) {
        loadingIndicator.classList.remove('hidden');
    }

    // Hide list content during loading
    const listContent = document.getElementById('list-content');
    if (listContent) {
        listContent.classList.add('opacity-50'); // Reduce opacity
    }
});

document.addEventListener('htmx:afterSwap', function(evt) {
    // Hide loading indicator
    const loadingIndicator = document.getElementById('loading-indicator');
    if (loadingIndicator) {
        loadingIndicator.classList.add('hidden');
    }

    // Restore list content opacity
    const listContent = document.getElementById('list-content');
    if (listContent) {
        listContent.classList.remove('opacity-50');
    }
});
</script>
{% endblock %}