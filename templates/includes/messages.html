{% if messages %}
<div class="fixed top-5 right-5 space-y-3 z-50">
    {% for message in messages %}
    <div x-data="{ show: true }" 
         x-init="setTimeout(() => show = false, 4000)"
         x-show="show"
         x-transition:enter="transition ease-out duration-300"
         x-transition:enter-start="opacity-0 translate-x-5"
         x-transition:enter-end="opacity-100 translate-x-0"
         x-transition:leave="transition ease-in duration-300"
         x-transition:leave-start="opacity-100 translate-x-0"
         x-transition:leave-end="opacity-0 translate-x-5"
         class="relative flex items-center px-5 py-3 rounded-xl shadow-lg border-l-4 
         {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %} bg-green-50 border-green-500 text-green-900 {% endif %}
         {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %} bg-red-50 border-red-500 text-red-900 {% endif %}
         {% if message.level == DEFAULT_MESSAGE_LEVELS.WARNING %} bg-yellow-50 border-yellow-500 text-yellow-900 {% endif %}
         {% if message.level == DEFAULT_MESSAGE_LEVELS.INFO %} bg-blue-50 border-blue-500 text-blue-900 {% endif %}">

        <!-- ✅ Иконка сообщения -->
        <div class="mr-3">
            {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
                <i class="fas fa-check-circle text-green-600"></i>
            {% elif message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                <i class="fas fa-times-circle text-red-600"></i>
            {% elif message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
                <i class="fas fa-exclamation-triangle text-yellow-600"></i>
            {% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
                <i class="fas fa-info-circle text-blue-600"></i>
            {% endif %}
        </div>

        <!-- ✅ Текст сообщения -->
        <div class="flex-1">
            <div class="font-medium text-base">
                {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
                    Success
                {% elif message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                    Error
                {% elif message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
                    Warning
                {% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
                    Info
                {% endif %}
            </div>
            <div class="text-sm">{{ message }}</div>
        </div>

        <!-- ✅ Кнопка закрытия (работает) -->
        <button @click="show = false" 
            class="ml-4 -mr-1 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition">
            <i class="fas fa-times text-gray-500 hover:text-gray-700"></i>
        </button>
    </div>
    {% endfor %}
</div>
{% endif %}
