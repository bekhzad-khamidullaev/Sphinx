{% extends 'base.html' %}
{% load i18n static crispy_forms_tags %}

{% block title %}{{ page_title }}{% endblock %}

{% block list_title %} {# Используем стандартный блок base.html #}
  <h1 class="text-2xl font-semibold text-gray-900 sm:text-3xl">
    {{ page_title }}
  </h1>
{% endblock %}

{% block list_content %} {# Используем стандартный блок base.html #}
<div class="bg-white shadow-xl rounded-xl border border-gray-200 p-6 md:p-8 mt-6 max-w-2xl mx-auto">
    <div class="border-b border-gray-200 px-0 py-4 mb-6">
        <h3 class="font-medium text-lg text-gray-900">
            {% if object %}
                {% trans "Редактирование должности" %}: {{ object.name }}
            {% else %}
                {% trans "Создание новой должности" %}
            {% endif %}
        </h3>
    </div>
    <div class="p-0">
        <form method="post" action="">
            {% csrf_token %}
            {% crispy form %}
            {% if form.non_field_errors %}
                <div role="alert" class="mt-4 p-4 border border-red-400 bg-red-100 text-red-700 rounded-md">
                    <h4 class="font-bold mb-1">{% trans "Ошибка формы:" %}</h4>
                    {% for error in form.non_field_errors %}<p class="text-sm">{{ error }}</p>{% endfor %}
                </div>
            {% endif %}
            <div class="flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200">
                <a href="{% url 'user_profiles:jobtitle_list' %}" class="px-4 py-2 rounded-md text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition active:scale-95 shadow-sm">
                    {% trans 'Отмена' %}
                </a>
                <button type="submit" class="px-4 py-2 rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition active:scale-95 shadow-sm inline-flex items-center">
                    <i class="fas fa-save mr-2"></i> {{ form_action_text|default:_("Сохранить") }}
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% comment %} No specific JS needed for this form unless you add Select2 or other widgets {% endcomment %}