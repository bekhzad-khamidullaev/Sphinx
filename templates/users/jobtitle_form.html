{% extends 'base.html' %}
{% load i18n static crispy_forms_tags %}

{% block title %}{{ page_title }}{% endblock %}

{% block page_title_block %}
  <h2 class="text-title-md2 font-bold text-black dark:text-white">
    {{ page_title }}
  </h2>
{% endblock %}

{% block content %}
<div class="rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark">
    <div class="border-b border-stroke px-6.5 py-4 dark:border-strokedark">
        <h3 class="font-medium text-black dark:text-white">
            {% if object %}
                {% trans "Редактирование должности" %}: {{ object.name }}
            {% else %}
                {% trans "Создание новой должности" %}
            {% endif %}
        </h3>
    </div>
    <div class="p-6.5">
        <form method="post">
            {% csrf_token %}
            {% crispy form %}
            {% if form.non_field_errors %}
                <div role="alert" class="mt-4 p-4 border border-danger/50 bg-danger/10 text-danger rounded-md dark:border-danger/70 dark:bg-danger/20 dark:text-red-400">
                    <h4 class="font-bold mb-1">{% trans "Ошибка формы:" %}</h4>
                    {% for error in form.non_field_errors %}<p class="text-sm">{{ error }}</p>{% endfor %}
                </div>
            {% endif %}
            <div class="flex justify-end gap-3 mt-6 pt-6 border-t border-stroke dark:border-strokedark">
                <a href="{% url 'user_profiles:jobtitle_list' %}" class="flex justify-center rounded bg-gray-200 dark:bg-gray-700 px-6 py-2 font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600">
                    {% trans 'Отмена' %}
                </a>
                <button type="submit" class="flex justify-center rounded bg-primary px-6 py-2 font-medium text-gray hover:bg-opacity-90">
                    <i class="fas fa-save mr-2 mt-0.5"></i> {{ form_action_text|default:_("Сохранить") }}
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% comment %} No specific JS needed for this form unless you add Select2 or other widgets {% endcomment %}