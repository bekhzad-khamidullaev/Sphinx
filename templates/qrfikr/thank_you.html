{% extends "qrfikr/base.html" %}
{% load i18n %}

{% block title %}{{ page_title|default:_("Feedback Submitted") }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-12 max-w-lg">
    <div class="bg-white dark:bg-gray-800 shadow-xl rounded-lg p-8 text-center">
        <svg class="mx-auto h-16 w-16 text-green-500 mb-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <h1 class="text-3xl font-bold text-gray-800 dark:text-gray-100 mb-3">{% trans "Thank You!" %}</h1>
        <p class="text-gray-600 dark:text-gray-400 mb-6">
            {% blocktrans trimmed with location_name=location_name %}
            Your feedback for <strong>{{ location_name }}</strong> has been successfully submitted.
            We appreciate you taking the time to help us improve.
            {% endblocktrans %}
        </p>
        {# Это условие теперь должно работать, если get_absolute_url определен в модели Location #}
        {% if qr_link and qr_link.location and qr_link.location.get_absolute_url %}
        <a href="{{ qr_link.location.get_absolute_url }}"
           class="inline-block py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-md transition duration-150 ease-in-out mr-2">
            {% trans "Back to Location Details" %}
        </a>
        <a href="{% url 'tasks:task_list_default' %}" 
           class="inline-block py-2 px-4 bg-slate-500 hover:bg-slate-600 text-white font-semibold rounded-lg shadow-md transition duration-150 ease-in-out">
            {% trans "Return to Home" %}
        </a>
        {% else %}
         <a href="{% url 'tasks:task_list_default' %}" class="inline-block py-3 px-6 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-md transition duration-150 ease-in-out text-base">
            {% trans "Return to Home" %}
         </a>
        {% endif %}
    </div>
</div>
{% endblock %}